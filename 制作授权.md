## 制作授权

### 问题描述

资源作者需要在制作过程中获取依赖资源或引用资源（对原有资源资源升级时）的授权。这个授权不同于生产环境授权，是没有状态机来约束的。资源的制作授权规则需要克服消费过程和制作过程难以区分的问题。比如给一段视频增加字幕，字幕制作者固然需要观看原视频以备创作，然而这个观看行为本身和普通的消费型观看并无差异。此种区别对于不同资源类型的影响也不尽相同，比如插件或通用库的创作者一般会期待按照自有资源在生产环境中的运行情况进行收费，而不会非常介意，甚至希望自己的源码能够被潜在的引用者查看和学习。

现有资源在制作过程中的使用可以存在于制作期和测试期。具体来说，有的资源需要引用方下载至本地后参与制作，有的资源需要在一个接近生产节点的环境下被展示并改进，也有的资源两者都需要。

### 初步设计

当前计划内需要实现的新功能点包括 **测试节点** **制作授权语言** **模拟资源** 等部分

#### 制作授权语言
制作授权语言不同于普通授权语言，执行时没有状态机合同生成，而是更类似于传统的访问权限管理。通过这个语言，用户可过给自己的资源配置授权规则，包括对象范围，是否允许下载等。

#### 测试节点
测试节点是一个只有所有者自身可见的节点。目前的计划是测试节点可以来自于用户出于专门目的创立，也可以是用户已有的正式节点的镜像。在测试节点上展示的资源适用制作授权规则，而非普通授权规则。

#### 模拟资源
模拟资源尚出于制作过程中的资源，没有正式资源所拥有的哈希id，也没有资源自身内容不可变的限制，更不能用于消费场景授权。模拟资源需要具备热插拔功能，即在用户的测试节点上，用当前模拟资源替换掉指定的普通资源。这样用户可以方便的控制环境变量，把精力集中在自己需要制作的资源上。
